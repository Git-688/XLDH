<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æˆè¯­ã€æ±‰å­—ã€å†å²äººç‰©ä¸è¿‘ä¹‰åä¹‰è¯æŸ¥è¯¢å·¥å…·</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "PingFang SC", "Microsoft YaHei", sans-serif;
        }
        
        body {
            background-color: #f8f9fa;
            color: #333;
            line-height: 1.5;
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            overflow: hidden;
        }
        
        header {
            background: white;
            color: #2c3e50;
            padding: 24px 20px;
            text-align: center;
            border-bottom: 1px solid #eaeaea;
        }
        
        h1 {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 6px;
        }
        
        .subtitle {
            font-size: 0.85rem;
            color: #7f8c8d;
        }
        
        .query-type {
            display: flex;
            justify-content: center;
            margin-bottom: 16px;
            flex-wrap: wrap;
        }
        
        .query-select {
            width: 100%;
            max-width: 500px;
            padding: 10px 16px;
            border: 1px solid #e1e5e9;
            border-radius: 6px;
            font-size: 0.9rem;
            background-color: white;
            color: #333;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .query-select:focus {
            border-color: #3498db;
            box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.2);
            outline: none;
        }
        
        .search-section {
            padding: 20px;
            border-bottom: 1px solid #eaeaea;
        }
        
        .search-box {
            display: flex;
            max-width: 500px;
            margin: 0 auto;
            border: 1px solid #e1e5e9;
            border-radius: 6px;
            overflow: hidden;
            transition: all 0.2s;
        }
        
        .search-box:focus-within {
            border-color: #3498db;
            box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.2);
        }
        
        #query-input {
            flex: 1;
            padding: 12px 16px;
            border: none;
            font-size: 0.9rem;
            outline: none;
        }
        
        #search-btn {
            background: #3498db;
            color: white;
            border: none;
            padding: 0 20px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: background 0.2s;
        }
        
        #search-btn:hover {
            background: #2980b9;
        }
        
        .mode-selector {
            display: flex;
            justify-content: center;
            margin-bottom: 16px;
            gap: 10px;
        }
        
        .mode-btn {
            background: #f1f8ff;
            border: 1px solid #e1e5e9;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.85rem;
            transition: all 0.2s;
        }
        
        .mode-btn.active {
            background: #3498db;
            color: white;
            border-color: #3498db;
        }
        
        .result-section {
            padding: 20px;
            display: none;
        }
        
        .idiom-header, .hanzi-header, .history-header, .synonym-header, .fenci-header, .meansearch-header, .szsy-header {
            text-align: center;
            margin-bottom: 24px;
            padding-bottom: 16px;
            border-bottom: 1px solid #eaeaea;
        }
        
        .idiom-title, .hanzi-title, .history-title, .synonym-title, .fenci-title, .meansearch-title, .szsy-title {
            font-size: 1.8rem;
            color: #2c3e50;
            margin-bottom: 6px;
            font-weight: 600;
        }
        
        .idiom-pinyin, .hanzi-pinyin, .history-dynasty, .meansearch-type, .szsy-definition {
            font-size: 0.9rem;
            color: #7f8c8d;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .audio-btn {
            background: none;
            border: none;
            color: #3498db;
            cursor: pointer;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
        }
        
        .audio-btn:hover {
            color: #2980b9;
        }
        
        .section {
            margin-bottom: 20px;
        }
        
        .section-title {
            font-size: 0.95rem;
            color: #2c3e50;
            margin-bottom: 8px;
            font-weight: 600;
        }
        
        .section-content {
            font-size: 0.85rem;
            line-height: 1.6;
            color: #34495e;
        }
        
        .word-lists {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }
        
        .word-tag {
            background: #f1f8ff;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 0.8rem;
            color: #3498db;
        }
        
        .hanzi-info {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 12px;
            margin-bottom: 20px;
        }
        
        .hanzi-info-item {
            background: #f8f9fa;
            padding: 12px;
            border-radius: 6px;
            text-align: center;
        }
        
        .hanzi-info-label {
            font-size: 0.75rem;
            color: #7f8c8d;
            margin-bottom: 4px;
        }
        
        .hanzi-info-value {
            font-size: 0.9rem;
            color: #2c3e50;
            font-weight: 500;
        }
        
        .hanzi-image {
            text-align: center;
            margin: 16px 0;
        }
        
        .hanzi-image img {
            max-width: 100%;
            height: auto;
            border-radius: 4px;
        }
        
        .baike-link {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            color: #3498db;
            text-decoration: none;
            font-size: 0.85rem;
            margin-top: 8px;
        }
        
        .baike-link:hover {
            text-decoration: underline;
        }
        
        .loading {
            text-align: center;
            padding: 30px;
            display: none;
            font-size: 0.9rem;
            color: #7f8c8d;
        }
        
        .error {
            text-align: center;
            padding: 16px;
            color: #e74c3c;
            background: #fdf0ee;
            border-radius: 6px;
            margin: 20px 0;
            display: none;
            font-size: 0.85rem;
        }
        
        .empty-state {
            text-align: center;
            padding: 40px 20px;
            color: #95a5a6;
            font-size: 0.9rem;
        }
        
        footer {
            text-align: center;
            padding: 16px;
            color: #95a5a6;
            font-size: 0.75rem;
            border-top: 1px solid #eaeaea;
        }
        
        /* å†å²äººç‰©æ ·å¼ */
        .history-desc {
            font-size: 0.95rem;
            color: #34495e;
            line-height: 1.6;
            padding: 12px;
            background: #f8f9fa;
            border-radius: 6px;
            margin-bottom: 16px;
        }
        
        .history-info-list {
            display: grid;
            gap: 8px;
        }
        
        .history-info-item {
            padding: 8px 12px;
            background: #f8f9fa;
            border-left: 3px solid #3498db;
            font-size: 0.85rem;
            color: #34495e;
        }
        
        .timeline {
            position: relative;
            padding-left: 24px;
        }
        
        .timeline::before {
            content: '';
            position: absolute;
            left: 8px;
            top: 0;
            bottom: 0;
            width: 2px;
            background: #e1e5e9;
        }
        
        .timeline-item {
            position: relative;
            margin-bottom: 16px;
            padding-bottom: 16px;
            border-bottom: 1px solid #f0f0f0;
        }
        
        .timeline-item:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }
        
        .timeline-item::before {
            content: '';
            position: absolute;
            left: -20px;
            top: 6px;
            width: 8px;
            height: 8px;
            background: #3498db;
            border-radius: 50%;
        }
        
        .timeline-year {
            font-weight: 600;
            color: #2c3e50;
            font-size: 0.9rem;
            margin-bottom: 4px;
        }
        
        .timeline-content {
            font-size: 0.85rem;
            color: #34495e;
            line-height: 1.5;
        }
        
        /* ä¸­æ–‡åˆ†è¯æ ·å¼ */
        .fenci-result {
            text-align: center;
        }
        
        .fenci-tags {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 8px;
            margin-top: 16px;
        }
        
        .fenci-tag {
            background: #3498db;
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9rem;
        }
        
        /* æ®æ„æŸ¥å¥æ ·å¼ */
        .quote-item {
            padding: 16px;
            margin-bottom: 16px;
            border-left: 4px solid #3498db;
            background-color: #f8f9fa;
            border-radius: 0 6px 6px 0;
        }
        
        .quote-text {
            font-size: 0.95rem;
            color: #2c3e50;
            line-height: 1.6;
            margin-bottom: 8px;
        }
        
        .quote-source {
            font-size: 0.85rem;
            color: #7f8c8d;
            text-align: right;
        }
        
        /* ä¸‰å­—ä¿—è¯­æ ·å¼ */
        .szsy-definition {
            background: #f8f9fa;
            padding: 16px;
            border-radius: 6px;
            font-size: 0.95rem;
            line-height: 1.6;
            color: #34495e;
            margin-top: 16px;
        }
        
        .szsy-example {
            margin-top: 20px;
            padding: 12px;
            background: #f1f8ff;
            border-radius: 6px;
            font-size: 0.85rem;
            color: #2c3e50;
        }
        
        .szsy-more-btn {
            background: #3498db;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.85rem;
            margin-top: 16px;
            transition: background 0.2s;
        }
        
        .szsy-more-btn:hover {
            background: #2980b9;
        }
        
        @media (max-width: 768px) {
            body {
                padding: 12px;
            }
            
            .container {
                border-radius: 6px;
            }
            
            header {
                padding: 20px 16px;
            }
            
            h1 {
                font-size: 1.3rem;
            }
            
            .search-section {
                padding: 16px;
            }
            
            .result-section {
                padding: 16px;
            }
            
            .idiom-title, .hanzi-title, .history-title, .synonym-title, .fenci-title, .meansearch-title, .szsy-title {
                font-size: 1.6rem;
            }
            
            .hanzi-info {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .query-select {
                font-size: 0.85rem;
                padding: 8px 12px;
            }
            
            .mode-btn {
                font-size: 0.8rem;
                padding: 6px 12px;
            }
            
            .timeline {
                padding-left: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>æˆè¯­ã€æ±‰å­—ã€å†å²äººç‰©ä¸è¿‘ä¹‰åä¹‰è¯æŸ¥è¯¢å·¥å…·</h1>
            <p class="subtitle">æ¢ç´¢ä¸­åæ–‡åŒ–ç‘°å®ï¼Œæ·±å…¥äº†è§£æˆè¯­ã€æ±‰å­—ã€å†å²äººç‰©ä¸è¯æ±‡å…³ç³»</p>
        </header>
        
        <section class="search-section">
            <div class="query-type">
                <select class="query-select" id="query-type">
                    <option value="idiom">æŸ¥è¯¢æˆè¯­</option>
                    <option value="hanzi">æŸ¥è¯¢æ±‰å­—</option>
                    <option value="history">å†å²äººç‰©</option>
                    <option value="synonym">è¿‘ä¹‰åä¹‰</option>
                    <option value="fenci">ä¸­æ–‡åˆ†è¯</option>
                    <option value="meansearch">æ®æ„æŸ¥å¥</option>
                    <option value="szsy">ä¸‰å­—ä¿—è¯­</option>
                </select>
            </div>
            
            <!-- æ®æ„æŸ¥å¥æ¨¡å¼é€‰æ‹©å™¨ -->
            <div class="mode-selector" id="meansearch-mode-selector" style="display: none;">
                <button class="mode-btn active" data-type="ç°ä»£æ–‡">ç°ä»£æ–‡</button>
                <button class="mode-btn" data-type="å¤è¯—æ–‡">å¤è¯—æ–‡</button>
            </div>
            
            <div class="search-box">
                <input type="text" id="query-input" placeholder="è¯·è¾“å…¥è¦æŸ¥è¯¢çš„æˆè¯­">
                <button id="search-btn">æŸ¥è¯¢</button>
            </div>
        </section>
        
        <div class="loading" id="loading">
            <p>æ­£åœ¨æŸ¥è¯¢ä¸­ï¼Œè¯·ç¨å€™...</p>
        </div>
        
        <div class="error" id="error"></div>
        
        <section class="result-section" id="result-section">
            <!-- æˆè¯­æŸ¥è¯¢ç»“æœ -->
            <div id="idiom-result">
                <div class="idiom-header">
                    <h2 class="idiom-title" id="idiom-title"></h2>
                    <p class="idiom-pinyin" id="idiom-pinyin"></p>
                </div>
                
                <div class="section">
                    <h3 class="section-title">åŸºæœ¬è§£é‡Š</h3>
                    <p class="section-content" id="basic-interpretation"></p>
                </div>
                
                <div class="section">
                    <h3 class="section-title">è¯¦ç»†è§£é‡Š</h3>
                    <p class="section-content" id="detailed-interpretation"></p>
                </div>
                
                <div class="section">
                    <h3 class="section-title">å‡ºå¤„</h3>
                    <p class="section-content" id="provenance"></p>
                </div>
                
                <div class="section">
                    <h3 class="section-title">ä¾‹å¥</h3>
                    <p class="section-content" id="example"></p>
                </div>
                
                <div class="section">
                    <h3 class="section-title">è¿‘ä¹‰è¯</h3>
                    <div class="word-lists" id="near-words"></div>
                </div>
                
                <div class="section">
                    <h3 class="section-title">åä¹‰è¯</h3>
                    <div class="word-lists" id="opposite-words"></div>
                </div>
            </div>
            
            <!-- æ±‰å­—æŸ¥è¯¢ç»“æœ -->
            <div id="hanzi-result" style="display: none;">
                <div class="hanzi-header">
                    <h2 class="hanzi-title" id="hanzi-title"></h2>
                    <p class="hanzi-pinyin" id="hanzi-pinyin">
                        <span id="hanzi-pinyin-text"></span>
                        <button class="audio-btn" id="hanzi-audio-btn" title="æ’­æ”¾è¯»éŸ³">
                            ğŸ§
                        </button>
                    </p>
                </div>
                
                <div class="hanzi-info">
                    <div class="hanzi-info-item">
                        <div class="hanzi-info-label">éƒ¨é¦–</div>
                        <div class="hanzi-info-value" id="hanzi-radical"></div>
                    </div>
                    <div class="hanzi-info-item">
                        <div class="hanzi-info-label">ç¬”ç”»</div>
                        <div class="hanzi-info-value" id="hanzi-strokes"></div>
                    </div>
                    <div class="hanzi-info-item">
                        <div class="hanzi-info-label">ç»“æ„</div>
                        <div class="hanzi-info-value" id="hanzi-structure"></div>
                    </div>
                </div>
                
                <div class="hanzi-image" id="hanzi-gif-container"></div>
                
                <div class="section">
                    <h3 class="section-title">é‡Šä¹‰</h3>
                    <div class="section-content" id="hanzi-meaning"></div>
                </div>
                
                <div class="section">
                    <h3 class="section-title">ç»„è¯</h3>
                    <div class="word-lists" id="hanzi-words"></div>
                </div>
                
                <div class="section">
                    <h3 class="section-title">è¿‘ä¹‰è¯</h3>
                    <div class="word-lists" id="hanzi-near-words"></div>
                </div>
                
                <div class="section">
                    <h3 class="section-title">åä¹‰è¯</h3>
                    <div class="word-lists" id="hanzi-opposite-words"></div>
                </div>
                
                <div class="section">
                    <h3 class="section-title">æ›´å¤šä¿¡æ¯</h3>
                    <p class="section-content" id="hanzi-more"></p>
                    <a href="#" class="baike-link" id="hanzi-baike-link" target="_blank">
                        æŸ¥çœ‹ç™¾åº¦ç™¾ç§‘
                    </a>
                </div>
            </div>
            
            <!-- å†å²äººç‰©æŸ¥è¯¢ç»“æœ -->
            <div id="history-result" style="display: none;">
                <div class="history-header">
                    <h2 class="history-title" id="history-name"></h2>
                    <p class="history-dynasty" id="history-dynasty"></p>
                </div>
                
                <div class="section">
                    <h3 class="section-title">äººç‰©ç®€ä»‹</h3>
                    <div class="history-desc" id="history-desc"></div>
                </div>
                
                <div class="section">
                    <h3 class="section-title">è¯¦ç»†ä¿¡æ¯</h3>
                    <div class="history-info-list" id="history-info"></div>
                </div>
                
                <div class="section">
                    <h3 class="section-title">äººç”Ÿå¤§äº‹è®°</h3>
                    <div class="timeline" id="history-events"></div>
                </div>
            </div>
            
            <!-- è¿‘ä¹‰åä¹‰è¯æŸ¥è¯¢ç»“æœ -->
            <div id="synonym-result" style="display: none;">
                <div class="synonym-header">
                    <h2 class="synonym-title" id="synonym-word"></h2>
                    <p class="section-content" style="text-align: center; color: #7f8c8d;">
                        <span id="synonym-count"></span>
                    </p>
                </div>
                
                <div class="section">
                    <h3 class="section-title">è¿‘ä¹‰è¯ (<span id="jinyi-count"></span>ä¸ª)</h3>
                    <div class="word-lists" id="jinyi-words"></div>
                </div>
                
                <div class="section">
                    <h3 class="section-title">åä¹‰è¯ (<span id="fanyi-count"></span>ä¸ª)</h3>
                    <div class="word-lists" id="fanyi-words"></div>
                </div>
            </div>
            
            <!-- ä¸­æ–‡åˆ†è¯æŸ¥è¯¢ç»“æœ -->
            <div id="fenci-result" style="display: none;">
                <div class="fenci-header">
                    <h2 class="fenci-title" id="fenci-text"></h2>
                    <p class="section-content" style="text-align: center; color: #7f8c8d;">
                        åˆ†è¯ç»“æœ
                    </p>
                </div>
                
                <div class="fenci-result">
                    <div class="fenci-tags" id="fenci-tags"></div>
                </div>
            </div>
            
            <!-- æ®æ„æŸ¥å¥æŸ¥è¯¢ç»“æœ -->
            <div id="meansearch-result" style="display: none;">
                <div class="meansearch-header">
                    <h2 class="meansearch-title" id="meansearch-mean"></h2>
                    <p class="meansearch-type" id="meansearch-type"></p>
                </div>
                
                <div class="section">
                    <h3 class="section-title">æŸ¥è¯¢ç»“æœ (<span id="meansearch-count"></span>æ¡)</h3>
                    <div id="meansearch-quotes"></div>
                </div>
            </div>
            
            <!-- ä¸‰å­—ä¿—è¯­æŸ¥è¯¢ç»“æœ -->
            <div id="szsy-result" style="display: none;">
                <div class="szsy-header">
                    <h2 class="szsy-title" id="szsy-word"></h2>
                    <p class="szsy-definition" id="szsy-definition"></p>
                </div>
                
                <div class="section">
                    <h3 class="section-title">ä¿—è¯­è§£é‡Š</h3>
                    <p class="section-content" id="szsy-explanation"></p>
                </div>
                
                <div class="section">
                    <h3 class="section-title">ç¤ºä¾‹ç”¨æ³•</h3>
                    <p class="section-content szsy-example" id="szsy-example">
                        ä¾‹å¦‚ï¼š"ä»–è¢«é›¨æ·‹æˆäº†è½æ±¤é¸¡ã€‚" - å½¢å®¹è¢«é›¨æ·‹æ¹¿çš„æ ·å­
                    </p>
                </div>
                
                <div class="section">
                    <button class="szsy-more-btn" id="szsy-more-btn">è·å–æ›´å¤šä¸‰å­—ä¿—è¯­</button>
                </div>
            </div>
        </section>
        
        <div class="empty-state" id="empty-state">
            <p>è¯·è¾“å…¥å†…å®¹è¿›è¡ŒæŸ¥è¯¢</p>
        </div>
        
        <footer>
            <p>æ•°æ®æ¥æºï¼šæˆè¯­æŸ¥è¯¢ API & æ±‰å­—æŸ¥è¯¢ API & å†å²äººç‰© API & è¿‘ä¹‰åä¹‰è¯ API & ä¸­æ–‡åˆ†è¯ API & æ®æ„æŸ¥å¥ API & ä¸‰å­—ä¿—è¯­ API | æœ¬å·¥å…·ä»…ä¾›å­¦ä¹ ä½¿ç”¨</p>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const searchBtn = document.getElementById('search-btn');
            const queryInput = document.getElementById('query-input');
            const resultSection = document.getElementById('result-section');
            const loading = document.getElementById('loading');
            const error = document.getElementById('error');
            const emptyState = document.getElementById('empty-state');
            const queryTypeSelect = document.getElementById('query-type');
            const idiomResult = document.getElementById('idiom-result');
            const hanziResult = document.getElementById('hanzi-result');
            const historyResult = document.getElementById('history-result');
            const synonymResult = document.getElementById('synonym-result');
            const fenciResult = document.getElementById('fenci-result');
            const meansearchResult = document.getElementById('meansearch-result');
            const szsyResult = document.getElementById('szsy-result');
            const hanziAudioBtn = document.getElementById('hanzi-audio-btn');
            const meansearchModeSelector = document.getElementById('meansearch-mode-selector');
            const meansearchModeBtns = document.querySelectorAll('#meansearch-mode-selector .mode-btn');
            const szsyMoreBtn = document.getElementById('szsy-more-btn');
            
            let currentQueryType = 'idiom';
            let currentMeansearchType = 'ç°ä»£æ–‡';
            let currentAudio = null;
            
            // åˆ‡æ¢æŸ¥è¯¢ç±»å‹
            queryTypeSelect.addEventListener('change', function() {
                currentQueryType = this.value;
                
                // æ˜¾ç¤ºæˆ–éšè—æ®æ„æŸ¥å¥æ¨¡å¼é€‰æ‹©å™¨
                if (currentQueryType === 'meansearch') {
                    meansearchModeSelector.style.display = 'flex';
                } else {
                    meansearchModeSelector.style.display = 'none';
                }
                
                // æ›´æ–°è¾“å…¥æ¡†æç¤º
                switch(currentQueryType) {
                    case 'idiom':
                        queryInput.placeholder = 'è¯·è¾“å…¥è¦æŸ¥è¯¢çš„æˆè¯­';
                        break;
                    case 'hanzi':
                        queryInput.placeholder = 'è¯·è¾“å…¥è¦æŸ¥è¯¢çš„æ±‰å­—';
                        break;
                    case 'history':
                        queryInput.placeholder = 'è¯·è¾“å…¥å†å²äººç‰©å§“åï¼ˆå¦‚ï¼šæ›¹æ“ï¼‰';
                        break;
                    case 'synonym':
                        queryInput.placeholder = 'è¯·è¾“å…¥è¦æŸ¥è¯¢çš„è¯è¯­ï¼ˆå¦‚ï¼šå¼€å¿ƒï¼‰';
                        break;
                    case 'fenci':
                        queryInput.placeholder = 'è¯·è¾“å…¥è¦åˆ†è¯çš„ä¸­æ–‡æ–‡æœ¬';
                        break;
                    case 'meansearch':
                        queryInput.placeholder = 'è¯·è¾“å…¥å¥å­æ„æ€ï¼ˆå¦‚ï¼šæ ‘ç«‹è¿œå¤§å¿—å‘ï¼‰';
                        break;
                    case 'szsy':
                        queryInput.placeholder = 'ç›´æ¥ç‚¹å‡»æŸ¥è¯¢å³å¯';
                        break;
                }
                
                // æ¸…ç©ºè¾“å…¥å’Œç»“æœ
                queryInput.value = '';
                clearResults();
                emptyState.style.display = 'block';
            });
            
            // åˆ‡æ¢æ®æ„æŸ¥å¥æ¨¡å¼
            meansearchModeBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    meansearchModeBtns.forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    currentMeansearchType = this.dataset.type;
                });
            });
            
            // è·å–æ›´å¤šä¸‰å­—ä¿—è¯­
            szsyMoreBtn.addEventListener('click', function() {
                queryInput.value = '';
                searchSzsy();
            });
            
            // æŸ¥è¯¢å‡½æ•°
            function search() {
                const query = queryInput.value.trim();
                
                if (!query && currentQueryType !== 'szsy') {
                    showError('è¯·è¾“å…¥è¦æŸ¥è¯¢çš„å†…å®¹');
                    return;
                }
                
                // æ˜¾ç¤ºåŠ è½½çŠ¶æ€
                loading.style.display = 'block';
                resultSection.style.display = 'none';
                error.style.display = 'none';
                emptyState.style.display = 'none';
                
                switch(currentQueryType) {
                    case 'idiom':
                        searchIdiom(query);
                        break;
                    case 'hanzi':
                        searchHanzi(query);
                        break;
                    case 'history':
                        searchHistory(query);
                        break;
                    case 'synonym':
                        searchSynonym(query);
                        break;
                    case 'fenci':
                        searchFenci(query);
                        break;
                    case 'meansearch':
                        searchMeansearch(query);
                        break;
                    case 'szsy':
                        searchSzsy();
                        break;
                }
            }
            
            // æŸ¥è¯¢æˆè¯­å‡½æ•°
            function searchIdiom(idiom) {
                // APIè¯·æ±‚
                const apiUrl = 'http://api-v2.yuafeng.cn/API/idioms_search.php';
                const apiKey = '15ea7ffdae3a7c3b68e296789ffc5cfc860f3e5758c344e644e41450f4be319e';
                
                fetch(`${apiUrl}?apikey=${apiKey}&msg=${encodeURIComponent(idiom)}`)
                    .then(response => {
                        if (!response.ok) {
                            throw new Error('ç½‘ç»œè¯·æ±‚å¤±è´¥');
                        }
                        return response.json();
                    })
                    .then(data => {
                        loading.style.display = 'none';
                        
                        if (data.code === 0) {
                            displayIdiomResult(data.data);
                        } else {
                            showError(data.msg || 'æœªæ‰¾åˆ°ç›¸å…³æˆè¯­ä¿¡æ¯');
                        }
                    })
                    .catch(err => {
                        loading.style.display = 'none';
                        showError('æŸ¥è¯¢å¤±è´¥ï¼š' + err.message);
                    });
            }
            
            // æŸ¥è¯¢æ±‰å­—å‡½æ•°
            function searchHanzi(hanzi) {
                // æ±‰å­—APIè¯·æ±‚
                const apiUrl = 'https://api.suol.cc/v1/hanzi.php';
                
                fetch(`${apiUrl}?msg=${encodeURIComponent(hanzi)}`)
                    .then(response => {
                        if (!response.ok) {
                            throw new Error('ç½‘ç»œè¯·æ±‚å¤±è´¥');
                        }
                        return response.json();
                    })
                    .then(data => {
                        loading.style.display = 'none';
                        
                        if (data.code === 200) {
                            displayHanziResult(data.data);
                        } else {
                            showError(data.msg || 'æœªæ‰¾åˆ°ç›¸å…³æ±‰å­—ä¿¡æ¯');
                        }
                    })
                    .catch(err => {
                        loading.style.display = 'none';
                        showError('æŸ¥è¯¢å¤±è´¥ï¼š' + err.message);
                    });
            }
            
            // æŸ¥è¯¢å†å²äººç‰©å‡½æ•°
            function searchHistory(name) {
                const apiUrl = 'https://api.pearktrue.cn/api/yearsmap/';
                
                fetch(`${apiUrl}?name=${encodeURIComponent(name)}`)
                    .then(response => {
                        if (!response.ok) {
                            throw new Error('ç½‘ç»œè¯·æ±‚å¤±è´¥');
                        }
                        return response.json();
                    })
                    .then(data => {
                        loading.style.display = 'none';
                        
                        if (data.code === 200) {
                            displayHistoryResult(data);
                        } else {
                            showError(data.msg || 'æœªæ‰¾åˆ°ç›¸å…³å†å²äººç‰©ä¿¡æ¯');
                        }
                    })
                    .catch(err => {
                        loading.style.display = 'none';
                        showError('æŸ¥è¯¢å¤±è´¥ï¼š' + err.message);
                    });
            }
            
            // æŸ¥è¯¢è¿‘ä¹‰åä¹‰è¯å‡½æ•°
            function searchSynonym(word) {
                const apiUrl = 'https://api.pearktrue.cn/api/jinyifanyi/';
                
                fetch(`${apiUrl}?word=${encodeURIComponent(word)}`)
                    .then(response => {
                        if (!response.ok) {
                            throw new Error('ç½‘ç»œè¯·æ±‚å¤±è´¥');
                        }
                        return response.json();
                    })
                    .then(data => {
                        loading.style.display = 'none';
                        
                        if (data.code === 200) {
                            displaySynonymResult(data);
                        } else {
                            showError(data.msg || 'æœªæ‰¾åˆ°ç›¸å…³è¯æ±‡ä¿¡æ¯');
                        }
                    })
                    .catch(err => {
                        loading.style.display = 'none';
                        showError('æŸ¥è¯¢å¤±è´¥ï¼š' + err.message);
                    });
            }
            
            // æŸ¥è¯¢ä¸­æ–‡åˆ†è¯å‡½æ•°
            function searchFenci(text) {
                const apiUrl = 'https://api.pearktrue.cn/api/fenci/';
                
                fetch(`${apiUrl}?word=${encodeURIComponent(text)}`)
                    .then(response => {
                        if (!response.ok) {
                            throw new Error('ç½‘ç»œè¯·æ±‚å¤±è´¥');
                        }
                        return response.json();
                    })
                    .then(data => {
                        loading.style.display = 'none';
                        
                        if (data.code === 200) {
                            displayFenciResult(data);
                        } else {
                            showError(data.msg || 'åˆ†è¯å¤±è´¥');
                        }
                    })
                    .catch(err => {
                        loading.style.display = 'none';
                        showError('æŸ¥è¯¢å¤±è´¥ï¼š' + err.message);
                    });
            }
            
            // æŸ¥è¯¢æ®æ„æŸ¥å¥å‡½æ•°
            function searchMeansearch(mean) {
                const apiUrl = 'https://api.pearktrue.cn/api/meansearch/';
                
                fetch(`${apiUrl}?mean=${encodeURIComponent(mean)}&type=${encodeURIComponent(currentMeansearchType)}`)
                    .then(response => {
                        if (!response.ok) {
                            throw new Error('ç½‘ç»œè¯·æ±‚å¤±è´¥');
                        }
                        return response.json();
                    })
                    .then(data => {
                        loading.style.display = 'none';
                        
                        if (data.code === 200) {
                            displayMeansearchResult(data);
                        } else {
                            showError(data.msg || 'æœªæ‰¾åˆ°ç›¸å…³å¥å­');
                        }
                    })
                    .catch(err => {
                        loading.style.display = 'none';
                        showError('æŸ¥è¯¢å¤±è´¥ï¼š' + err.message);
                    });
            }
            
            // æŸ¥è¯¢ä¸‰å­—ä¿—è¯­å‡½æ•°
            function searchSzsy() {
                const apiUrl = 'https://api.kuleu.com/api/szsy';
                
                fetch(apiUrl)
                    .then(response => {
                        if (!response.ok) {
                            throw new Error('ç½‘ç»œè¯·æ±‚å¤±è´¥');
                        }
                        return response.json();
                    })
                    .then(data => {
                        loading.style.display = 'none';
                        
                        if (data.code === 200) {
                            displaySzsyResult(data);
                        } else {
                            showError(data.msg || 'æœªæ‰¾åˆ°ç›¸å…³ä¸‰å­—ä¿—è¯­ä¿¡æ¯');
                        }
                    })
                    .catch(err => {
                        loading.style.display = 'none';
                        showError('æŸ¥è¯¢å¤±è´¥ï¼š' + err.message);
                    });
            }
            
            // æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯
            function showError(message) {
                error.textContent = message;
                error.style.display = 'block';
                emptyState.style.display = 'none';
            }
            
            // æ¸…ç©ºç»“æœ
            function clearResults() {
                // æ¸…ç©ºæˆè¯­ç»“æœ
                document.getElementById('idiom-title').textContent = '';
                document.getElementById('idiom-pinyin').textContent = '';
                document.getElementById('basic-interpretation').textContent = '';
                document.getElementById('detailed-interpretation').textContent = '';
                document.getElementById('provenance').textContent = '';
                document.getElementById('example').textContent = '';
                document.getElementById('near-words').innerHTML = '';
                document.getElementById('opposite-words').innerHTML = '';
                
                // æ¸…ç©ºæ±‰å­—ç»“æœ
                document.getElementById('hanzi-title').textContent = '';
                document.getElementById('hanzi-pinyin-text').textContent = '';
                document.getElementById('hanzi-radical').textContent = '';
                document.getElementById('hanzi-strokes').textContent = '';
                document.getElementById('hanzi-structure').textContent = '';
                document.getElementById('hanzi-meaning').innerHTML = '';
                document.getElementById('hanzi-words').innerHTML = '';
                document.getElementById('hanzi-near-words').innerHTML = '';
                document.getElementById('hanzi-opposite-words').innerHTML = '';
                document.getElementById('hanzi-more').textContent = '';
                document.getElementById('hanzi-gif-container').innerHTML = '';
                document.getElementById('hanzi-baike-link').href = '#';
                
                // æ¸…ç©ºå†å²äººç‰©ç»“æœ
                document.getElementById('history-name').textContent = '';
                document.getElementById('history-dynasty').textContent = '';
                document.getElementById('history-desc').textContent = '';
                document.getElementById('history-info').innerHTML = '';
                document.getElementById('history-events').innerHTML = '';
                
                // æ¸…ç©ºè¿‘ä¹‰åä¹‰è¯ç»“æœ
                document.getElementById('synonym-word').textContent = '';
                document.getElementById('synonym-count').textContent = '';
                document.getElementById('jinyi-count').textContent = '0';
                document.getElementById('fanyi-count').textContent = '0';
                document.getElementById('jinyi-words').innerHTML = '';
                document.getElementById('fanyi-words').innerHTML = '';
                
                // æ¸…ç©ºä¸­æ–‡åˆ†è¯ç»“æœ
                document.getElementById('fenci-text').textContent = '';
                document.getElementById('fenci-tags').innerHTML = '';
                
                // æ¸…ç©ºæ®æ„æŸ¥å¥ç»“æœ
                document.getElementById('meansearch-mean').textContent = '';
                document.getElementById('meansearch-type').textContent = '';
                document.getElementById('meansearch-count').textContent = '0';
                document.getElementById('meansearch-quotes').innerHTML = '';
                
                // æ¸…ç©ºä¸‰å­—ä¿—è¯­ç»“æœ
                document.getElementById('szsy-word').textContent = '';
                document.getElementById('szsy-definition').textContent = '';
                document.getElementById('szsy-explanation').textContent = '';
                
                // é‡ç½®éŸ³é¢‘æŒ‰é’®
                hanziAudioBtn.style.display = 'none';
                if (currentAudio) {
                    currentAudio.pause();
                    currentAudio = null;
                }
            }
            
            // æ˜¾ç¤ºæˆè¯­æŸ¥è¯¢ç»“æœ
            function displayIdiomResult(data) {
                // æ›´æ–°é¡µé¢å†…å®¹
                document.getElementById('idiom-title').textContent = data.idiom;
                document.getElementById('idiom-pinyin').textContent = data.pinyin;
                document.getElementById('basic-interpretation').textContent = data.basic_interpretation;
                document.getElementById('detailed-interpretation').textContent = data.detailed_interpretation;
                document.getElementById('provenance').textContent = data.provenance;
                document.getElementById('example').textContent = data.eg;
                
                // å¤„ç†è¿‘ä¹‰è¯
                const nearWordsContainer = document.getElementById('near-words');
                nearWordsContainer.innerHTML = '';
                if (data.near_words) {
                    const nearWords = data.near_words.split('\n').filter(word => word.trim());
                    nearWords.forEach(word => {
                        const wordTag = document.createElement('span');
                        wordTag.className = 'word-tag';
                        wordTag.textContent = word;
                        nearWordsContainer.appendChild(wordTag);
                    });
                }
                
                // å¤„ç†åä¹‰è¯
                const oppositeWordsContainer = document.getElementById('opposite-words');
                oppositeWordsContainer.innerHTML = '';
                if (data.opposite_words) {
                    const oppositeWords = data.opposite_words.split('\n').filter(word => word.trim());
                    oppositeWords.forEach(word => {
                        const wordTag = document.createElement('span');
                        wordTag.className = 'word-tag';
                        wordTag.textContent = word;
                        oppositeWordsContainer.appendChild(wordTag);
                    });
                }
                
                // æ˜¾ç¤ºç»“æœåŒºåŸŸ
                idiomResult.style.display = 'block';
                hanziResult.style.display = 'none';
                historyResult.style.display = 'none';
                synonymResult.style.display = 'none';
                fenciResult.style.display = 'none';
                meansearchResult.style.display = 'none';
                szsyResult.style.display = 'none';
                resultSection.style.display = 'block';
                emptyState.style.display = 'none';
            }
            
            // æ˜¾ç¤ºæ±‰å­—æŸ¥è¯¢ç»“æœ
            function displayHanziResult(data) {
                // æ›´æ–°é¡µé¢å†…å®¹
                document.getElementById('hanzi-title').textContent = queryInput.value;
                document.getElementById('hanzi-pinyin-text').textContent = data.æ‹¼éŸ³ ? data.æ‹¼éŸ³.join(' ') : '';
                document.getElementById('hanzi-radical').textContent = data.éƒ¨é¦– ? data.éƒ¨é¦–.join('ã€') : '';
                document.getElementById('hanzi-strokes').textContent = data.ç¬”ç”» || '';
                document.getElementById('hanzi-structure').textContent = data.ç»“æ„ || '';
                
                // å¤„ç†è¯»éŸ³
                if (data.è¯»éŸ³ && data.è¯»éŸ³.length > 0) {
                    hanziAudioBtn.style.display = 'flex';
                    hanziAudioBtn.onclick = function() {
                        if (currentAudio) {
                            currentAudio.pause();
                        }
                        currentAudio = new Audio(data.è¯»éŸ³[0]);
                        currentAudio.play();
                    };
                } else {
                    hanziAudioBtn.style.display = 'none';
                }
                
                // å¤„ç†é‡Šä¹‰
                const meaningContainer = document.getElementById('hanzi-meaning');
                meaningContainer.innerHTML = '';
                if (data.é‡Šä¹‰ && Array.isArray(data.é‡Šä¹‰)) {
                    data.é‡Šä¹‰.forEach(meaningGroup => {
                        if (Array.isArray(meaningGroup)) {
                            meaningGroup.forEach(meaning => {
                                const p = document.createElement('p');
                                p.textContent = meaning;
                                meaningContainer.appendChild(p);
                            });
                        }
                    });
                }
                
                // å¤„ç†ç»„è¯
                const wordsContainer = document.getElementById('hanzi-words');
                wordsContainer.innerHTML = '';
                if (data.ç»„è¯ && Array.isArray(data.ç»„è¯)) {
                    data.ç»„è¯.forEach(wordGroup => {
                        if (Array.isArray(wordGroup)) {
                            wordGroup.forEach(word => {
                                const wordTag = document.createElement('span');
                                wordTag.className = 'word-tag';
                                wordTag.textContent = word;
                                wordsContainer.appendChild(wordTag);
                            });
                        }
                    });
                }
                
                // å¤„ç†è¿‘ä¹‰è¯å’Œåä¹‰è¯ï¼ˆç”±äºAPIæ²¡æœ‰æä¾›ï¼Œè¿™é‡Œä½¿ç”¨ç¤ºä¾‹æ•°æ®ï¼‰
                const nearWordsContainer = document.getElementById('hanzi-near-words');
                nearWordsContainer.innerHTML = '';
                // ç¤ºä¾‹è¿‘ä¹‰è¯
                const exampleNearWords = ["é’¦ä½©", "æ•¬ä»°", "å‘å¾€", "æ¸´æ…•"];
                exampleNearWords.forEach(word => {
                    const wordTag = document.createElement('span');
                    wordTag.className = 'word-tag';
                    wordTag.textContent = word;
                    nearWordsContainer.appendChild(wordTag);
                });
                
                const oppositeWordsContainer = document.getElementById('hanzi-opposite-words');
                oppositeWordsContainer.innerHTML = '';
                // ç¤ºä¾‹åä¹‰è¯
                const exampleOppositeWords = ["åŒæ¶", "æ†æ¶", "å«Œå¼ƒ", "é„™è§†"];
                exampleOppositeWords.forEach(word => {
                    const wordTag = document.createElement('span');
                    wordTag.className = 'word-tag';
                    wordTag.textContent = word;
                    oppositeWordsContainer.appendChild(wordTag);
                });
                
                // å¤„ç†æ›´å¤šä¿¡æ¯
                document.getElementById('hanzi-more').textContent = data.æ›´å¤š || '';
                
                // å¤„ç†ç™¾ç§‘é“¾æ¥
                if (data.ç™¾ç§‘) {
                    document.getElementById('hanzi-baike-link').href = data.ç™¾ç§‘;
                } else {
                    document.getElementById('hanzi-baike-link').style.display = 'none';
                }
                
                // å¤„ç†GIFåŠ¨å›¾
                const gifContainer = document.getElementById('hanzi-gif-container');
                gifContainer.innerHTML = '';
                if (data.GIF) {
                    const img = document.createElement('img');
                    img.src = data.GIF;
                    img.alt = `${queryInput.value}çš„ä¹¦å†™åŠ¨ç”»`;
                    gifContainer.appendChild(img);
                }
                
                // æ˜¾ç¤ºç»“æœåŒºåŸŸ
                idiomResult.style.display = 'none';
                hanziResult.style.display = 'block';
                historyResult.style.display = 'none';
                synonymResult.style.display = 'none';
                fenciResult.style.display = 'none';
                meansearchResult.style.display = 'none';
                szsyResult.style.display = 'none';
                resultSection.style.display = 'block';
                emptyState.style.display = 'none';
            }
            
            // æ˜¾ç¤ºå†å²äººç‰©æŸ¥è¯¢ç»“æœ
            function displayHistoryResult(data) {
                const personData = data.data[0];
                
                // æ›´æ–°é¡µé¢å†…å®¹
                document.getElementById('history-name').textContent = data.name;
                document.getElementById('history-dynasty').textContent = personData.dynasty;
                document.getElementById('history-desc').textContent = personData.desc;
                
                // å¤„ç†è¯¦ç»†ä¿¡æ¯
                const infoContainer = document.getElementById('history-info');
                infoContainer.innerHTML = '';
                if (personData.info && Array.isArray(personData.info)) {
                    personData.info.forEach(info => {
                        const infoItem = document.createElement('div');
                        infoItem.className = 'history-info-item';
                        infoItem.textContent = info;
                        infoContainer.appendChild(infoItem);
                    });
                }
                
                // å¤„ç†æ—¶é—´çº¿äº‹ä»¶
                const eventsContainer = document.getElementById('history-events');
                eventsContainer.innerHTML = '';
                if (personData.event && Array.isArray(personData.event)) {
                    personData.event.forEach(event => {
                        const timelineItem = document.createElement('div');
                        timelineItem.className = 'timeline-item';
                        
                        // æå–å¹´ä»½å’Œäº‹ä»¶å†…å®¹
                        const yearMatch = event.match(/^(\d+)\s*å¹´/);
                        const year = yearMatch ? yearMatch[1] : '';
                        const content = event.replace(/^\d+\s*å¹´\s*/, '');
                        
                        const yearDiv = document.createElement('div');
                        yearDiv.className = 'timeline-year';
                        yearDiv.textContent = year ? `${year}å¹´` : '';
                        
                        const contentDiv = document.createElement('div');
                        contentDiv.className = 'timeline-content';
                        contentDiv.textContent = content;
                        
                        timelineItem.appendChild(yearDiv);
                        timelineItem.appendChild(contentDiv);
                        eventsContainer.appendChild(timelineItem);
                    });
                }
                
                // æ˜¾ç¤ºç»“æœåŒºåŸŸ
                idiomResult.style.display = 'none';
                hanziResult.style.display = 'none';
                historyResult.style.display = 'block';
                synonymResult.style.display = 'none';
                fenciResult.style.display = 'none';
                meansearchResult.style.display = 'none';
                szsyResult.style.display = 'none';
                resultSection.style.display = 'block';
                emptyState.style.display = 'none';
            }
            
            // æ˜¾ç¤ºè¿‘ä¹‰åä¹‰è¯æŸ¥è¯¢ç»“æœ
            function displaySynonymResult(data) {
                // æ›´æ–°é¡µé¢å†…å®¹
                document.getElementById('synonym-word').textContent = data.word;
                
                const jinyiWords = data.data.jinyi || [];
                const fanyiWords = data.data.fanyi || [];
                
                // æ›´æ–°ç»Ÿè®¡ä¿¡æ¯
                document.getElementById('synonym-count').textContent = `æ‰¾åˆ° ${jinyiWords.length} ä¸ªè¿‘ä¹‰è¯ï¼Œ${fanyiWords.length} ä¸ªåä¹‰è¯`;
                document.getElementById('jinyi-count').textContent = jinyiWords.length;
                document.getElementById('fanyi-count').textContent = fanyiWords.length;
                
                // å¤„ç†è¿‘ä¹‰è¯
                const jinyiContainer = document.getElementById('jinyi-words');
                jinyiContainer.innerHTML = '';
                if (jinyiWords.length > 0) {
                    jinyiWords.forEach(word => {
                        const wordTag = document.createElement('span');
                        wordTag.className = 'word-tag';
                        wordTag.textContent = word;
                        jinyiContainer.appendChild(wordTag);
                    });
                } else {
                    jinyiContainer.innerHTML = '<p style="color: #95a5a6; font-size: 0.85rem;">æš‚æ— è¿‘ä¹‰è¯</p>';
                }
                
                // å¤„ç†åä¹‰è¯
                const fanyiContainer = document.getElementById('fanyi-words');
                fanyiContainer.innerHTML = '';
                if (fanyiWords.length > 0) {
                    fanyiWords.forEach(word => {
                        const wordTag = document.createElement('span');
                        wordTag.className = 'word-tag';
                        wordTag.textContent = word;
                        fanyiContainer.appendChild(wordTag);
                    });
                } else {
                    fanyiContainer.innerHTML = '<p style="color: #95a5a6; font-size: 0.85rem;">æš‚æ— åä¹‰è¯</p>';
                }
                
                // æ˜¾ç¤ºç»“æœåŒºåŸŸ
                idiomResult.style.display = 'none';
                hanziResult.style.display = 'none';
                historyResult.style.display = 'none';
                synonymResult.style.display = 'block';
                fenciResult.style.display = 'none';
                meansearchResult.style.display = 'none';
                szsyResult.style.display = 'none';
                resultSection.style.display = 'block';
                emptyState.style.display = 'none';
            }
            
            // æ˜¾ç¤ºä¸­æ–‡åˆ†è¯æŸ¥è¯¢ç»“æœ
            function displayFenciResult(data) {
                // æ›´æ–°é¡µé¢å†…å®¹
                document.getElementById('fenci-text').textContent = data.text;
                
                // å¤„ç†åˆ†è¯ç»“æœ
                const fenciTagsContainer = document.getElementById('fenci-tags');
                fenciTagsContainer.innerHTML = '';
                
                if (data.data && Array.isArray(data.data)) {
                    data.data.forEach(word => {
                        const wordTag = document.createElement('span');
                        wordTag.className = 'fenci-tag';
                        wordTag.textContent = word;
                        fenciTagsContainer.appendChild(wordTag);
                    });
                }
                
                // æ˜¾ç¤ºç»“æœåŒºåŸŸ
                idiomResult.style.display = 'none';
                hanziResult.style.display = 'none';
                historyResult.style.display = 'none';
                synonymResult.style.display = 'none';
                fenciResult.style.display = 'block';
                meansearchResult.style.display = 'none';
                szsyResult.style.display = 'none';
                resultSection.style.display = 'block';
                emptyState.style.display = 'none';
            }
            
            // æ˜¾ç¤ºæ®æ„æŸ¥å¥æŸ¥è¯¢ç»“æœ
            function displayMeansearchResult(data) {
                // æ›´æ–°é¡µé¢å†…å®¹
                document.getElementById('meansearch-mean').textContent = data.mean;
                document.getElementById('meansearch-type').textContent = `æŸ¥è¯¢æ¨¡å¼ï¼š${data.type}`;
                document.getElementById('meansearch-count').textContent = data.count;
                
                // å¤„ç†æŸ¥è¯¢ç»“æœ
                const quotesContainer = document.getElementById('meansearch-quotes');
                quotesContainer.innerHTML = '';
                
                if (data.data && Array.isArray(data.data)) {
                    data.data.forEach(item => {
                        const quoteItem = document.createElement('div');
                        quoteItem.className = 'quote-item';
                        
                        const quoteText = document.createElement('div');
                        quoteText.className = 'quote-text';
                        quoteText.textContent = item.quote;
                        
                        const quoteSource = document.createElement('div');
                        quoteSource.className = 'quote-source';
                        quoteSource.textContent = `â€”â€” ${item.source}`;
                        
                        quoteItem.appendChild(quoteText);
                        quoteItem.appendChild(quoteSource);
                        quotesContainer.appendChild(quoteItem);
                    });
                }
                
                // æ˜¾ç¤ºç»“æœåŒºåŸŸ
                idiomResult.style.display = 'none';
                hanziResult.style.display = 'none';
                historyResult.style.display = 'none';
                synonymResult.style.display = 'none';
                fenciResult.style.display = 'none';
                meansearchResult.style.display = 'block';
                szsyResult.style.display = 'none';
                resultSection.style.display = 'block';
                emptyState.style.display = 'none';
            }
            
            // æ˜¾ç¤ºä¸‰å­—ä¿—è¯­æŸ¥è¯¢ç»“æœ
            function displaySzsyResult(data) {
                // æ›´æ–°é¡µé¢å†…å®¹
                document.getElementById('szsy-word').textContent = data.data.word;
                document.getElementById('szsy-definition').textContent = data.data.definition;
                document.getElementById('szsy-explanation').textContent = data.data.definition;
                
                // æ›´æ–°ç¤ºä¾‹ç”¨æ³•ï¼ˆæ ¹æ®å…·ä½“ä¿—è¯­åŠ¨æ€ç”Ÿæˆï¼‰
                const exampleContainer = document.getElementById('szsy-example');
                const word = data.data.word;
                let example = '';
                
                switch(word) {
                    case 'è½æ±¤é¸¡':
                        example = 'ä¾‹å¦‚ï¼š"ä»–è¢«é›¨æ·‹æˆäº†è½æ±¤é¸¡ã€‚" - å½¢å®¹è¢«é›¨æ·‹æ¹¿çš„æ ·å­';
                        break;
                    case 'é©¬åç‚®':
                        example = 'ä¾‹å¦‚ï¼š"äº‹åè¯´è¿™äº›æœ‰ä»€ä¹ˆç”¨ï¼ŒçœŸæ˜¯é©¬åç‚®ã€‚" - æ¯”å–»äº‹åæ‰é‡‡å–æªæ–½';
                        break;
                    case 'å¢™å¤´è‰':
                        example = 'ä¾‹å¦‚ï¼š"ä»–å°±åƒå¢™å¤´è‰ï¼Œä¸¤è¾¹å€’ã€‚" - æ¯”å–»ç«‹åœºä¸åšå®šçš„äºº';
                        break;
                    default:
                        example = `ä¾‹å¦‚ï¼š"è¿™ä¸ª${word}å½¢å®¹...çš„æƒ…å†µ" - ${data.data.definition}`;
                }
                exampleContainer.textContent = example;
                
                // æ˜¾ç¤ºç»“æœåŒºåŸŸ
                idiomResult.style.display = 'none';
                hanziResult.style.display = 'none';
                historyResult.style.display = 'none';
                synonymResult.style.display = 'none';
                fenciResult.style.display = 'none';
                meansearchResult.style.display = 'none';
                szsyResult.style.display = 'block';
                resultSection.style.display = 'block';
                emptyState.style.display = 'none';
            }
            
            // ç»‘å®šäº‹ä»¶
            searchBtn.addEventListener('click', search);
            
            queryInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    search();
                }
            });
            
            // åˆå§‹çŠ¶æ€
            emptyState.style.display = 'block';
            resultSection.style.display = 'none';
        });
    </script>
</body>
</html>
